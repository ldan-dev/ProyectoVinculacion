ðŸ“‚ proyectoVinculacion/
â”œâ”€â”€ database/
â”‚   â”œâ”€â”€ auto_parts.db         # SQLite con metadatos
â”‚   â””â”€â”€ parquet_files/        # Datos 3D comprimidos
â”‚       â”œâ”€â”€ ignition_switch.parquet
â”‚       â”œâ”€â”€ fuel_sensor.parquet
â”‚       â””â”€â”€ ...
â”œâ”€â”€ raw_data/                 # Datos crudos
â”‚   â”œâ”€â”€ switch/
â”‚   â””â”€â”€ sensor/
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ capture.py            # Script de captura
â”‚   â”œâ”€â”€ ply_to_parquet.py     # ConversiÃ³n
â”‚   â””â”€â”€ database_utils.py     # Funciones DB
â””â”€â”€ models/                   # Modelos completos PLY
    â”œâ”€â”€ ignition_switch.ply
    â””â”€â”€ fuel_sensor.ply

GuÃ­a Completa para CloudCompare ðŸ–¥ï¸
Paso 1: Preparar los archivos

    Ejecuta el cÃ³digo y captura todas las vistas

    Al finalizar, tendrÃ¡s una carpeta con:

        Archivos CSV (coordenadas + color)

        Archivos PLY (nubes de puntos visualizables)

Paso 2: Abrir en CloudCompare

    Descarga e instala CloudCompare:
    www.cloudcompare.org

    Abrir los archivos PLY:

        Ve a File > Open

        Selecciona TODOS los archivos .ply de tu carpeta

        Haz clic en "Open"

Paso 3: Alinear las nubes de puntos (Registro)

    Selecciona dos nubes para alinear (ej: switch_0.ply y switch_1.ply)

    Ve a Tools > Registration > Align

    MÃ©todo manual (puntos de referencia):

        Haz clic en "Pick points" en ambas ventanas

        Selecciona 3-4 puntos idÃ©nticos en ambas nubes (ej: esquinas de la pieza)

        Ejemplo:
        text

        switch_0.ply â†’ Punto A, B, C
        switch_1.ply â†’ Punto A, B, C (mismos puntos fÃ­sicos)

    Haz clic en "Align"

    Repite con todas las nubes (siempre respecto a la primera)

Paso 4: FusiÃ³n de nubes

    Selecciona TODAS las nubes alineadas (Ctrl + Click)

    Ve a Edit > Merge

    Nombra la nube fusionada (ej: switch_completo)

Paso 5: Limpieza y exportaciÃ³n

    Eliminar fondo:

        Usa la herramienta "Segment" para eliminar puntos de la cartulina

    ReducciÃ³n de ruido:

        Tools > Clean > Noise filter (radio: 0.01, umbral: 1.0)

    Exportar resultado final:

        File > Save

        Formato recomendado: PLY (conserva colores)

VisualizaciÃ³n de Capturas durante el Proceso ðŸ‘€

El cÃ³digo incluye una mejora clave:
python

# Visualizar cada captura inmediatamente despuÃ©s de tomarla
o3d.visualization.draw_geometries([filtered_pcd], 
                                  window_name=f"Captura {i+1}/{NUM_CAPTURES}")

QuÃ© verÃ¡s y quÃ© hacer:

    AparecerÃ¡ una ventana con la nube de puntos de ESA captura

    Verifica:

        Â¿Se ve la pieza completa?

        Â¿Hay mucho ruido o puntos no deseados?

        Â¿El color se ve correcto?

    Controles bÃ¡sicos:

        Raton + arrastrar: Rotar

        Rueda del ratÃ³n: Zoom

        Ctrl + ratÃ³n: Mover

    Cierra la ventana para continuar con la siguiente captura

Flujo de Trabajo Recomendado ðŸ”„

    Primera prueba con 4 capturas (90Â° entre cada una)

        Verifica que las nubes se alineen bien en CloudCompare

    Ajusta parÃ¡metros si es necesario:

        MIN_DIST/MAX_DIST: Para eliminar fondo

        OUTLIER_REMOVAL: Para reducir ruido (0.1 = poco, 1.0 = mucho)

    Captura final con 12-16 vistas (30Â°-22.5Â° entre capturas)

    Al finalizar:

        Abre los PLY en CloudCompare

        Alinea manualmente

        Fusiona y exporta el modelo completo
